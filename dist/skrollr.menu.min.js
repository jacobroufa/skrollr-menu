/*! skrollr-menu 0.1.15 (2014-11-26) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
!function(a,b){"use strict";var c=500,d="sqrt",e=1,f="data-menu-top",g="data-menu-offset",h="data-menu-duration",i=b.skrollr,j=b.history,k=!!j.pushState,l=function(b){return b===a?!1:"A"===b.tagName.toUpperCase()?b:l(b.parentNode)},m=function(a){if(1===a.which||0===a.button){var b=l(a.target);b&&n(b)&&a.preventDefault()}},n=function(c,d){var e;if(y){if(c.hostname!==b.location.hostname)return!1;if(c.pathname!==a.location.pathname)return!1;e=c.hash}else e=c.getAttribute("href");if(!/^#/.test(e))return!1;var i,l;if(l=w?w(c):c.getAttribute(f),null!==l)i=/p$/.test(l)?l.slice(0,-1)/100*a.documentElement.clientHeight:+l*x;else{var m=a.getElementById(e.substr(1));if(!m)return!1;i=s.relativeToAbsolute(m,"top","top");var n=m.getAttribute(g);null!==n&&(i+=+n)}k&&!d&&j.pushState({top:i},"",e);var p=parseInt(c.getAttribute(h),10),q=u(s.getScrollTop(),i);return isNaN(p)||(q=p),v&&!d?(o(c),s.animateTo(i,{duration:q,easing:t})):r(function(){s.setScrollTop(i)}),!0},o=function(a){var b=a.className;p(),a.className=b+" active"},p=function(){var b;b=z?z.querySelectorAll("a.active"):a.body.querySelectorAll("a.active"),Array.prototype.forEach.call(b,function(a){a.className=a.className.replace(/(?:^|\s)active(?!\S)/,"")})},q=function(){if(b.location.hash&&a.querySelector){var c=a.querySelector('a[href="'+b.location.hash+'"]');c||(c=a.createElement("a"),c.href=b.location.hash),n(c,!0)}},r=function(a){b.setTimeout(a,1)};i.menu={},i.menu.init=function(f,g){s=f,g=g||{},t=g.easing||d,v=g.animate!==!1,u=g.duration||c,w=g.handleLink,x=g.scale||e,y=g.complexLinks===!0,z=g.parentNav,"number"==typeof u&&(u=function(a){return function(){return a}}(u)),i.addEvent(a,"click",m),k&&i.addEvent(b,"popstate",function(a){var b=a.state||{},c=b.top||0;r(function(){s.setScrollTop(c)})},!1),q()},i.menu.click=function(a){n(a)};var s,t,u,v,w,x,y,z;r(function(){b.location.hash&&b.scrollTo(0,0)})}(document,window);